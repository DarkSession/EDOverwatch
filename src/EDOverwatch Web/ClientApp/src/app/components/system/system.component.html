<div class="overwatch-content-container">
    <div class="overwatch-content-large" *ngIf="starSystem">
        <div class="title">
            {{ starSystem.Name }}
        </div>
        <div class="content-box">
            <div class="content-flex">
                <table class="system-information">
                    <tbody>
                        <tr>
                            <td>Maelstrom</td>
                            <td>
                                <app-maelstrom-name [maelstrom]="starSystem.Maelstrom"></app-maelstrom-name>
                            </td>
                        </tr>
                        <tr>
                            <td>Thargoid Level</td>
                            <td>{{ starSystem.ThargoidLevel.Name }}</td>
                        </tr>
                    </tbody>
                </table>
                <table class="system-information">
                    <tbody>
                        <tr>
                            <td>Population</td>
                            <td class="number">{{ starSystem.Population | number }}</td>
                        </tr>
                        <tr>
                            <td>Player Focus</td>
                            <td class="number">{{ starSystem.EffortFocus | percent }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <br>
            <div class="subtitle">Operations</div>
            <div class="table-container">
                <div class="table" style="max-height: 40vh">
                    <table mat-table [dataSource]="factionOperations" matSort #factionOperationsSort="matSort">
                        <ng-container matColumnDef="Faction">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Faction</th>
                            <td mat-cell *matCellDef="let row">
                                {{ row.Faction }}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Type">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Operation</th>
                            <td mat-cell *matCellDef="let row">
                                {{ row.Type }}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Started">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Start</th>
                            <td mat-cell *matCellDef="let row">
                                {{ row.Started | date }}
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="factionOperationsDisplayedColumns; sticky: true"
                            class="thead">
                        </tr>
                        <tr mat-row *matRowDef="let row; columns: factionOperationsDisplayedColumns;"></tr>
                    </table>
                    <div *ngIf="factionOperations.data.length === 0" class="empty-table">
                        No records found.
                    </div>
                </div>
            </div>
            <br>
            <div class="subtitle">Contributions</div>
            <div class="table-container">
                <div class="table" style="max-height: 40vh">
                    <table mat-table [dataSource]="warEfforts" matSort #warEffortsSort="matSort">
                        <ng-container matColumnDef="Date">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
                            <td mat-cell *matCellDef="let row">
                                {{ row.Date }}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Source">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Source</th>
                            <td mat-cell *matCellDef="let row">
                                {{ row.Source }}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Type">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
                            <td mat-cell *matCellDef="let row">
                                {{ row.Type }}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="Amount">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Amount</th>
                            <td mat-cell *matCellDef="let row" class="number">
                                {{ row.Amount | number }}
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="warEffortsDisplayedColumns; sticky: true" class="thead">
                        </tr>
                        <tr mat-row *matRowDef="let row; columns: warEffortsDisplayedColumns;"></tr>
                    </table>
                    <div *ngIf="warEfforts.data.length === 0" class="empty-table">
                        No records found.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>